{% extends 'base.html' %}

{% block title %}¡Pago Exitoso! | Ticketera{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto text-center py-12">
    <div class="bg-green-500/10 rounded-full p-6 w-24 h-24 mx-auto mb-6 flex items-center justify-center">
        <i class="fas fa-check text-4xl text-green-500"></i>
    </div>

    <h1 class="text-4xl font-bold text-white mb-4">¡Todo listo!</h1>
    <p class="text-gray-400 text-lg mb-8">Tu pago fue procesado correctamente. Aquí están tus entradas.</p>

    <div class="space-y-4">
        {% for ticket in order.tickets.all %}
        <div class="bg-card border border-gray-700 rounded-xl p-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 p-4 opacity-10">
                <i class="fas fa-ticket-alt text-6xl"></i>
            </div>

            <div class="text-left relative z-10">
                <h3 class="text-xl font-bold text-primary mb-1">{{ order.ticket_type.event.title }}</h3>
                <p class="text-gray-300 font-medium">{{ order.ticket_type.name }}</p>
                <p class="text-gray-500 text-sm mt-2">ID: {{ ticket.unique_hash }}</p>
                <p class="text-gray-500 text-sm">Venue: {{ order.ticket_type.event.venue }}</p>
            </div>

            <!-- Fake QR Code -->
            <div class="mt-4 bg-white p-2 rounded w-fit mx-auto">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data={{ ticket.unique_hash }}"
                    alt="QR Ticket" class="w-32 h-32">
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="mt-10">
        <a href="{% url 'home' %}"
            class="bg-gray-800 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition">
            Volver al Inicio
        </a>
    </div>
</div>
<!-- FontAwesome for Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}